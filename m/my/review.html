<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8" />
	<title>评价</title>
    <meta name="viewport" content="width=320,user-scalable=no" />
	<meta content="telephone=no" name="format-detection" />
	<link href="../css/style.css" rel="stylesheet" />
</head>
<body id="page-review">
	<header id="header">
		<a class="back" href="javascript:history.back(1)">返回</a>
		<h2 class="title">评价</h2>
		<a class="call" href="tel:">投诉和建议</a>
	</header>

	<form class="menu-form">
		<div class="menu">
			<div class="nurses-photo" style="background-image:url(../images/nurses-simple.jpg)"></div>
			<p class="review-title">您对 <em class="nurses-name">宋智孝</em> 的服务满意吗？</p>
			<div class="menuitem">
				<div class="rate-tools">
					<label>总评价</label>
					<span class="rate-1 rate" data-value="1"></span>
					<span class="rate-2 rate" data-value="2"></span>
					<span class="rate-3 rate" data-value="3"></span>
					<span class="rate-4 rate" data-value="4"></span>
					<span class="rate-5 rate" data-value="5"></span>
				</div>
				<div>
					<textarea name="content" placeholder="请填写对该服务人员的评价信息，以便我们为您提供更好的服务。"></textarea>
				</div>
			</div>
		</div>
        <input type="hidden" name="orderNo" id="orderNo">
		<input type="button" id="comment" value="提交" />
	</form>
	<script type="text/javascript" src="../js/zepto-with-touch.min.js"></script>
	<script type="text/javascript" src="../js/public.js"></script>
	<script type="text/javascript" src="../js/my/review.js"></script>
	<script>
		$('.rate-tools .rate')['touchstart' in document ? 'tap' : 'click'](function () {
			var i,value = this.getAttribute('data-value') - 0, hasClass = $(this).hasClass('rated');
			if (value > 1) {
				for ( i = 1; i <= 5; i++) {
					$(this.parentNode.querySelector('.rate-' + i))[i<=value?'addClass':'removeClass']('rated');
				}
			} else {
				if (hasClass && this.parentNode.querySelectorAll('.rated').length === 1) {
					$(this).removeClass('rated');
					value = 0;
				} else {
					$(this).addClass('rated');
				}
				for (i = 2; i <= 5; i++) {
					$(this.parentNode.querySelector('.rate-' + i)).removeClass('rated');
				}
			}
		});
	</script>
</body>
</html>
